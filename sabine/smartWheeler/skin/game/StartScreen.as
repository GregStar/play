package  {	import flash.text.*;	import flash.events.Event;	import flash.events.MouseEvent;	import flash.net.URLVariables;	import flash.net.URLRequest;	import flash.net.URLLoader;	import flash.display.Loader;	import flash.display.SimpleButton;	import flash.display.Sprite;		public class StartScreen extends Sprite {		private var nameEingabefeld_txt:TextField;		private var varLoader:URLLoader = new URLLoader();		private var varObj:URLVariables;		private var userName:String;				public function StartScreen() {			addEventListener(Event.ADDED_TO_STAGE, geadded);			}//ende Konstruktor StartScreen				private function geadded(evt:Event){			/* zentriert einfügen */			x = Object(parent).spielfeldWidth/2;			y = Object(parent).spielfeldHeight/2;						/* Hintergrundbild laden und an den bgContainer anfügen */						var bgPic:Loader = new Loader();				bgPic.x = - Object(parent).spielfeldWidth / 2;				bgPic.y = - Object(parent).spielfeldHeight/ 2;				varObj = varLoader.data;				bgPic.load( new URLRequest( Object(parent).pfad + 'startScreen/design_'+Object(parent).kampagne+'.jpg') );			addChild(bgPic);						/* Textfeld für Usereingabe erstellen */			nameEingabefeld_txt = new TextField();				nameEingabefeld_txt.x = -200;				nameEingabefeld_txt.y = -51;				nameEingabefeld_txt.type = TextFieldType.INPUT;				nameEingabefeld_txt.defaultTextFormat = Object(parent).inputFormat;				nameEingabefeld_txt.width = 254;				nameEingabefeld_txt.height = 28;				nameEingabefeld_txt.maxChars = 35;					//maximal 35 Zeichen für Name			addChild(nameEingabefeld_txt);							/* Focus auf Eingabefeld */			stage.focus = nameEingabefeld_txt;						/* Hintergrundgrafik für Button laden */			var buttonBg:Loader = new Loader();				buttonBg.x = - Object(parent).spielfeldWidth/2 + 138;				buttonBg.y = 130;				varObj = varLoader.data;				buttonBg.load( new URLRequest(Object(parent).pfad + 'startScreen/bt_'+Object(parent).kampagne+'.png') );				buttonBg.mouseChildren = false;			addChild(buttonBg);						/* Play-Button erstellen und mit Event-Listener belegen*/			var play_bt:SimpleButton = new SimpleButton(); 				play_bt.upState = buttonBg;   				play_bt.overState = buttonBg;   				play_bt.hitTestState = buttonBg; 			addChild(play_bt); 						play_bt.addEventListener(MouseEvent.CLICK, checkName);		}//ende geadded				private function checkName(evt:MouseEvent){			/* entfernt mögliche leerzeichen */			var nameZuPruefen = nameEingabefeld_txt.text.split(" ").join("");						/* prüft ob Eingabe erfolgt ist */			if(nameZuPruefen.length > 0){				if(nameEingabefeld_txt.text.length <= 35){					/* Original Eingabe wird gespeichert */					userName = nameEingabefeld_txt.text;														/* speichert Spielernamen in globaler Variable in Document.as*/					Object(parent).nameSpieler = String(userName);											/* spiel beginnen */					Object(parent).gameMode();										/* screenEntfernen*/					Object(parent).entferneStartScreen();				}			}else{				/* Textfeld für Fehlermeldung erstellen */				var ausgabe_txt:TextField = new TextField();					ausgabe_txt.x = -202;					ausgabe_txt.y = 20;					ausgabe_txt.type = TextFieldType.DYNAMIC;					ausgabe_txt.defaultTextFormat = Object(parent).ausgabeFormat;					ausgabe_txt.width = 320;					ausgabe_txt.height = 28;					ausgabe_txt.text = "Bitte gib deinen Namen ein!";				addChild(ausgabe_txt);								/* Focus auf Eingabefeld */				stage.focus = nameEingabefeld_txt;			}		}//ende checkName	}	}