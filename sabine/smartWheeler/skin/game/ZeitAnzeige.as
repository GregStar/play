package  {		import flash.display.Sprite;	import flash.events.Event;	import flash.utils.*;	import flash.text.TextField;	import flash.text.TextFormat;	import flash.text.TextFormatAlign;	public class ZeitAnzeige extends Sprite {		private var startZeit:Number;		public var zeit:Number;		public var fertigeZeit:String = '0,000';		public var zeitAnzeige_txt:TextField;				private var pauseAnfangZeit:Number;		private var pauseEndeZeit:Number;		private var pauseGesamt:Number = 0;				public function ZeitAnzeige() {			addEventListener(Event.ADDED_TO_STAGE, geadded);			}//ende Konstruktor ZeitAnzeige				private function geadded(evt:Event){			/* erstelle Textfeld und füge es hinzu */			Object(parent).textFormat.align = TextFormatAlign.RIGHT;			zeitAnzeige_txt = new TextField();				zeitAnzeige_txt.width = 500;				zeitAnzeige_txt.x = Object(parent).spielfeldWidth - (zeitAnzeige_txt.width + 20);				zeitAnzeige_txt.y = 20;				zeitAnzeige_txt.defaultTextFormat = Object(parent).textFormat;				zeitAnzeige_txt.text = '0,000';			addChild(zeitAnzeige_txt);		}//ende geadded				public function begin(){			zeit = 0;			startZeit = getTimer();			addEventListener(Event.ENTER_FRAME, zeitAnzeigen);		}//ende begin()				public function pauseAnfang(){			pauseAnfangZeit = getTimer();			removeEventListener(Event.ENTER_FRAME, zeitAnzeigen);		}//ende pause()				public function pauseEnde(){			pauseEndeZeit = getTimer();			pauseGesamt += (pauseEndeZeit - pauseAnfangZeit);			addEventListener(Event.ENTER_FRAME, zeitAnzeigen);		}//pauseEnde				public function ende(){			removeEventListener(Event.ENTER_FRAME, zeitAnzeigen);		}//ende ende()			private function zeitAnzeigen(evt:Event){			zeit = (getTimer() - startZeit - pauseGesamt)/ 1000;		//bereits in sekunden			fertigeZeit = formatiereZeit(zeit);			if(zeit > (Object(parent).levelZeit/1000)* Object(parent).level){ Object(parent).levelEnde(); }		}//ende formatiereZeit				private function formatiereZeit(zeit:Number){			var sekunden:int = Math.floor(zeit);		// rundet den Sekunden wert ab			var ms:int = (zeit-sekunden)*1000;			// Millisekunden auslesen für nachkommerstellen						var sekundenStr:String = String(sekunden);			var msStr:String = String(ms);						if(msStr.length == 1){ msStr = "00" + msStr ; } 			else if(msStr.length == 2){ msStr = "0" + msStr; }						return (sekundenStr + "," + msStr);		//Komma zwischen Sek und millisek													//mit return zurückgegeben		}//ende formatiereZeit	}	}